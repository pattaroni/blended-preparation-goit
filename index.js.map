{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/helpers.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com';\nexport const ENDPOINTS = {\n  CATEGORIES: `/products/category-list`,\n    PRODUCTS: `/products`,\n  SEARCH: `/products/search`\n};\n\nexport const PER_PAGE = 12;\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios.get(ENDPOINTS.CATEGORIES);\n  return data;\n};\n\nexport const fetchProducts = async currentPage => {\n  const { data } = await axios.get(`${ENDPOINTS.PRODUCTS}`, {\n    params: {\n      limit: PER_PAGE,\n      skip: (currentPage - 1) * PER_PAGE,\n    },\n  });\n  return data;\n};\n\nexport const searchByValue = async (userValue, currentPage) => {\n  const { data } = await axios.get(`${ENDPOINTS.SEARCH}`, {\n    params: {\n      limit: PER_PAGE,\n      q: userValue,\n    },\n  });\n  return data;\n};\n\nexport const fetchProductByID = async id => {\n  const { data } = await axios.get(`${ENDPOINTS.PRODUCTS}/${id}`);\n  return data;\n};\n","export const refs = {\n  ulCategorEl: document.querySelector('.categories'),\n  ulProductEl: document.querySelector('.products'),\n  searchFormEl: document.querySelector('.search-form'),\n  clearBtnForm: document.querySelector('.search-form__btn-clear'),\n  notFoundEl: document.querySelector('.not-found'),\n  modalEl: document.querySelector('.modal'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  modalListEl: document.querySelector('.modal-product'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  loaderEl: document.querySelector('.loader'),\n  scrollToTopBtn: document.querySelector('.scroll-top-btn'),\n};\n","import { refs } from './refs';\n\nexport const renderCategories = data => {\n  const markup = data\n    .map(\n      element => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${element}</button>\n </li>`\n    )\n    .join('');\n  refs.ulCategorEl.innerHTML = markup;\n};\n\nexport const renderProducts = data => {\n  const markup = data\n    .map(\n      product =>\n        `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.description}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${product.brand}</span></p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: ${product.price}$</p>\n </li>`\n    )\n    .join('');\n\n  refs.ulProductEl.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const renderByValue = data => {\n  refs.ulProductEl.innerHTML = '';\n\n  const markup = data\n    .map(\n      product =>\n        `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.description}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${product.brand}</span></p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: ${product.price}$</p>\n </li>`\n    )\n    .join('');\n\n  refs.ulProductEl.innerHTML = markup;\n};\n\nexport const renderProductByID = data => {\n  const markup = `<img class=\"modal-product__img\" src=\"${data.thumbnail}\" alt=\"${data.description}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${data.title}</p>\n        <ul class=\"modal-product__tags\">${data.tags}</ul>\n        <p class=\"modal-product__description\">${data.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${data.shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${data.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${data.price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`;\n  refs.modalListEl.innerHTML = markup;\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { refs } from './refs';\nimport { getProducts } from './handlers';\n\n// Перевірка введеного значення\nexport const checkStatusUserValue = userValue => {\n  if (!userValue) {\n    iziToast.warning({ message: 'Введіть значення для пошуку' });\n    return false;\n  }\n  return true;\n};\n\n// Перевірка результатів пошуку\nexport const checkStatusSearchProduct = result => {\n  if (!result.products || result.products.length === 0) {\n    iziToast.warning({ message: 'Нічого не знайдено' });\n    return false;\n  }\n  return true;\n};\n\n// Обробка кнопки очищення пошуку\nexport const clearButtonProducts = () => {\n  refs.clearBtnForm.addEventListener('click', () => {\n    refs.ulProductEl.innerHTML = '';\n    refs.searchFormEl.searchValue.value = '';\n    refs.clearBtnForm.classList.remove('search-form__btn-clear--visible');\n    refs.notFoundEl.classList.remove('not-found--visible');\n\n    getProducts();\n  });\n};\n\n// Кнопка прокрутки вгору\nexport const scrollToTop = () => {\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 400) {\n      refs.scrollToTopBtn.classList.add('scroll-top-btn--visible');\n    } else {\n      refs.scrollToTopBtn.classList.remove('scroll-top-btn--visible');\n    }\n  });\n\n  refs.scrollToTopBtn.addEventListener('click', () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  fetchCategories,\n  fetchProducts,\n  fetchProductByID,\n  searchByValue,\n} from './products-api';\n\nimport {\n  renderCategories,\n  renderProducts,\n  renderProductByID,\n  renderByValue,\n} from './render-function';\n\nimport { refs } from './refs';\nimport {\n  checkStatusSearchProduct,\n  checkStatusUserValue,\n} from './helpers';\n\nlet currentPage = 1;\nlet userValue;\nlet totalPages = 0;\n\n// Отримати категорії\nexport const getCategories = async () => {\n  try {\n    const result = await fetchCategories();\n    renderCategories(['All', ...result]);\n  } catch (error) {\n    iziToast.error({ message: error });\n  }\n};\n\n// Отримати всі продукти\nexport const getProducts = async () => {\n  try {\n    const result = await fetchProducts(currentPage);\n    renderProducts(result.products);\n    totalPages = Math.ceil(result.total / result.limit);\n\n    if (currentPage < totalPages) {\n      refs.loadMoreBtn.classList.remove('is-hidden');\n    } else {\n      refs.loadMoreBtn.classList.add('is-hidden');\n    }\n  } catch (err) {\n    iziToast.error({ message: err });\n  }\n\n  refs.loadMoreBtn.addEventListener('click', async () => {\n    refs.loadMoreBtn.classList.add('is-hidden');\n    refs.loaderEl.classList.add('is-visible');\n    currentPage++;\n\n    const result = await fetchProducts(currentPage);\n    renderProducts(result.products);\n\n    refs.loaderEl.classList.remove('is-visible');\n    refs.loadMoreBtn.classList.remove('is-hidden');\n\n    const card = document.querySelector('.products__item');\n    if (card) {\n      const cardHeight = card.getBoundingClientRect().height;\n      window.scrollBy({\n        top: cardHeight * 2,\n        behavior: 'smooth',\n      });\n    }\n\n    if (currentPage >= totalPages) {\n      refs.loadMoreBtn.classList.add('is-hidden');\n      iziToast.info({\n        message: \"We're sorry, but you've reached the end of search results.\",\n        position: 'bottomCenter',\n      });\n    }\n  });\n};\n\n// Обробка сабміту пошуку\nexport const submitEventFunction = () => {\n  refs.searchFormEl.addEventListener('submit', async e => {\n    e.preventDefault();\n    userValue = e.target.searchValue.value.trim();\n\n    if (!checkStatusUserValue(userValue)) return;\n\n    if (userValue) {\n      refs.clearBtnForm.classList.add('search-form__btn-clear--visible');\n    }\n\n    try {\n      const result = await searchByValue(userValue, currentPage);\n\n      if (!checkStatusSearchProduct(result)) {\n        refs.notFoundEl.classList.add('not-found--visible');\n        refs.ulProductEl.innerHTML = '';\n        return;\n      }\n\n      refs.notFoundEl.classList.remove('not-found--visible');\n      renderByValue(result.products);\n    } catch (error) {\n      iziToast.error({ message: error });\n    }\n  });\n};\n\n// Обробка кліку по продукту\nexport const productClickHandler = () => {\n  refs.ulProductEl.addEventListener('click', async e => {\n    const target = e.target.closest('li');\n    if (!target) return;\n\n    const id = target.dataset.id;\n    if (!id) return;\n\n    refs.modalEl.classList.add('modal--is-open');\n\n    try {\n      const productData = await fetchProductByID(id);\n      renderProductByID(productData);\n    } catch (err) {\n      iziToast.error({ message: err.message || 'Failed to load product' });\n    }\n  });\n\n  refs.modalCloseBtn.addEventListener('click', () => {\n    refs.modalEl.classList.remove('modal--is-open');\n    refs.modalListEl.innerHTML = '';\n  });\n\n  refs.modalEl.addEventListener('click', e => {\n    if (e.target === refs.modalEl) {\n      refs.modalEl.classList.remove('modal--is-open');\n      refs.modalListEl.innerHTML = '';\n    }\n  });\n};","import {\n  getCategories,\n  getProducts,\n  submitEventFunction,\n  productClickHandler,\n} from './js/handlers';\n\nimport {\n  clearButtonProducts,\n  scrollToTop,\n} from './js/helpers';\n\n// Логіка сторінки Home\nscrollToTop();\ngetCategories();\ngetProducts();\nsubmitEventFunction();\nclearButtonProducts();\nproductClickHandler();\n"],"names":["BASE_URL","ENDPOINTS","PER_PAGE","axios","fetchCategories","data","fetchProducts","currentPage","searchByValue","userValue","fetchProductByID","id","refs","renderCategories","markup","element","renderProducts","product","renderByValue","renderProductByID","checkStatusUserValue","iziToast","checkStatusSearchProduct","result","clearButtonProducts","getProducts","scrollToTop","totalPages","getCategories","error","err","card","cardHeight","submitEventFunction","e","productClickHandler","target","productData"],"mappings":"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"}