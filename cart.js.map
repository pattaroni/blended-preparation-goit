{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["import {\n  initThemeToggle,\n  buyProductsBtnHandler,\n  productClickHandler,\n  initModalHandlers,\n} from './js/handlers.js';\nimport { scrollToTop } from './js/helpers.js';\nimport { refs } from './js/refs.js';\nimport { renderProducts } from './js/render-function.js';\nimport { fetchProductsByIDs } from './js/products-api.js';\nimport iziToast from 'izitoast';\nimport { getDataFromStorage } from './js/storage.js';\nimport { STORAGE_KEYS } from './js/constants.js';\n\nscrollToTop();\ninitThemeToggle();\nbuyProductsBtnHandler();\nproductClickHandler();\n\n(async function () {\n  const savedWishlistProductsIds =\n    getDataFromStorage(STORAGE_KEYS.WISHLIST) || [];\n  const savedCartProductsIds = getDataFromStorage(STORAGE_KEYS.CART) || [];\n  refs.wishlistCountEl.textContent = savedWishlistProductsIds.length;\n\n  if (!savedCartProductsIds?.length) {\n    refs.notFoundEl.classList.add('not-found--visible');\n    return;\n  }\n\n  initModalHandlers();\n  refs.cartCountEl.textContent = savedCartProductsIds.length;\n  refs.loaderEl.classList.add('is-visible');\n\n  try {\n    const products = await fetchProductsByIDs(savedCartProductsIds);\n\n    const totalPrice = products.reduce(\n      (acc, product) => acc + product.price,\n      0\n    );\n    refs.priceCountEl.textContent = `$${totalPrice.toFixed(2)}`;\n    renderProducts(products);\n  } catch (error) {\n    iziToast.error({\n      message: `Error loading products: ${error.message}`,\n    });\n  } finally {\n    refs.loaderEl.classList.remove('is-visible');\n  }\n})();\n"],"names":["scrollToTop","initThemeToggle","buyProductsBtnHandler","productClickHandler","savedWishlistProductsIds","getDataFromStorage","STORAGE_KEYS","savedCartProductsIds","refs","initModalHandlers","products","fetchProductsByIDs","totalPrice","acc","product","renderProducts","error","iziToast"],"mappings":"iKAcAA,EAAW,EACXC,EAAe,EACfC,EAAqB,EACrBC,EAAmB,GAElB,gBAAkB,CACjB,MAAMC,EACJC,EAAmBC,EAAa,QAAQ,GAAK,CAAA,EACzCC,EAAuBF,EAAmBC,EAAa,IAAI,GAAK,CAAA,EAGtE,GAFAE,EAAK,gBAAgB,YAAcJ,EAAyB,OAExD,CAACG,GAAsB,OAAQ,CACjCC,EAAK,WAAW,UAAU,IAAI,oBAAoB,EAClD,MACF,CAEAC,EAAiB,EACjBD,EAAK,YAAY,YAAcD,EAAqB,OACpDC,EAAK,SAAS,UAAU,IAAI,YAAY,EAExC,GAAI,CACF,MAAME,EAAW,MAAMC,EAAmBJ,CAAoB,EAExDK,EAAaF,EAAS,OAC1B,CAACG,EAAKC,IAAYD,EAAMC,EAAQ,MAChC,CACN,EACIN,EAAK,aAAa,YAAc,IAAII,EAAW,QAAQ,CAAC,CAAC,GACzDG,EAAeL,CAAQ,CACzB,OAASM,EAAO,CACdC,EAAS,MAAM,CACb,QAAS,2BAA2BD,EAAM,OAAO,EACvD,CAAK,CACH,QAAC,CACCR,EAAK,SAAS,UAAU,OAAO,YAAY,CAC7C,CACF,GAAC"}